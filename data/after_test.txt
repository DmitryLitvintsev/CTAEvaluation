--
-- PostgreSQL database dump
--

-- Dumped from database version 9.6.24
-- Dumped by pg_dump version 9.6.24

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: plpgsql; Type: EXTENSION; Schema: -; Owner: 
--

CREATE EXTENSION IF NOT EXISTS plpgsql WITH SCHEMA pg_catalog;


--
-- Name: EXTENSION plpgsql; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION plpgsql IS 'PL/pgSQL procedural language';


SET default_tablespace = '';

SET default_with_oids = false;

--
-- Name: activities_weights; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.activities_weights (
    disk_instance_name character varying(100),
    activity character varying(100),
    weight character varying(100),
    user_comment character varying(1000) NOT NULL,
    creation_log_user_name character varying(100) NOT NULL,
    creation_log_host_name character varying(100) NOT NULL,
    creation_log_time numeric(20,0) NOT NULL,
    last_update_user_name character varying(100) NOT NULL,
    last_update_host_name character varying(100) NOT NULL,
    last_update_time numeric(20,0) NOT NULL
);


ALTER TABLE public.activities_weights OWNER TO cta;

--
-- Name: admin_user; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.admin_user (
    admin_user_name character varying(100) NOT NULL,
    user_comment character varying(1000) NOT NULL,
    creation_log_user_name character varying(100) NOT NULL,
    creation_log_host_name character varying(100) NOT NULL,
    creation_log_time numeric(20,0) NOT NULL,
    last_update_user_name character varying(100) NOT NULL,
    last_update_host_name character varying(100) NOT NULL,
    last_update_time numeric(20,0) NOT NULL
);


ALTER TABLE public.admin_user OWNER TO cta;

--
-- Name: archive_file; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.archive_file (
    archive_file_id numeric(20,0) NOT NULL,
    disk_instance_name character varying(100) NOT NULL,
    disk_file_id character varying(100) NOT NULL,
    disk_file_uid numeric(10,0) NOT NULL,
    disk_file_gid numeric(10,0) NOT NULL,
    size_in_bytes numeric(20,0) NOT NULL,
    checksum_blob bytea,
    checksum_adler32 numeric(10,0) NOT NULL,
    storage_class_id numeric(20,0) NOT NULL,
    creation_time numeric(20,0) NOT NULL,
    reconciliation_time numeric(20,0) NOT NULL,
    is_deleted character(1) DEFAULT '0'::bpchar NOT NULL,
    collocation_hint character varying(100),
    CONSTRAINT archive_file_id_bool_ck CHECK ((is_deleted = ANY (ARRAY['0'::bpchar, '1'::bpchar])))
);


ALTER TABLE public.archive_file OWNER TO cta;

--
-- Name: archive_file_id_seq; Type: SEQUENCE; Schema: public; Owner: cta
--

CREATE SEQUENCE public.archive_file_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 20;


ALTER TABLE public.archive_file_id_seq OWNER TO cta;

--
-- Name: archive_route; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.archive_route (
    storage_class_id numeric(20,0) NOT NULL,
    copy_nb numeric(3,0) NOT NULL,
    tape_pool_id numeric(20,0) NOT NULL,
    user_comment character varying(1000) NOT NULL,
    creation_log_user_name character varying(100) NOT NULL,
    creation_log_host_name character varying(100) NOT NULL,
    creation_log_time numeric(20,0) NOT NULL,
    last_update_user_name character varying(100) NOT NULL,
    last_update_host_name character varying(100) NOT NULL,
    last_update_time numeric(20,0) NOT NULL,
    CONSTRAINT archive_route_copy_nb_gt_0_ck CHECK ((copy_nb > (0)::numeric))
);


ALTER TABLE public.archive_route OWNER TO cta;

--
-- Name: cta_catalogue; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.cta_catalogue (
    schema_version_major numeric(20,0) NOT NULL,
    schema_version_minor numeric(20,0) NOT NULL,
    next_schema_version_major numeric(20,0),
    next_schema_version_minor numeric(20,0),
    status character varying(100),
    is_production character(1) DEFAULT '0'::bpchar NOT NULL,
    CONSTRAINT catalogue_status_content_ck CHECK ((((next_schema_version_major IS NULL) AND (next_schema_version_minor IS NULL) AND ((status)::text = 'PRODUCTION'::text)) OR ((status)::text = 'UPGRADING'::text))),
    CONSTRAINT cta_catalogue_ip_bool_ck CHECK ((is_production = ANY (ARRAY['0'::bpchar, '1'::bpchar])))
);


ALTER TABLE public.cta_catalogue OWNER TO cta;

--
-- Name: disk_system; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.disk_system (
    disk_system_name character varying(100) NOT NULL,
    file_regexp character varying(100) NOT NULL,
    free_space_query_url character varying(1000) NOT NULL,
    refresh_interval numeric(20,0) NOT NULL,
    targeted_free_space numeric(20,0) NOT NULL,
    sleep_time numeric(20,0) NOT NULL,
    user_comment character varying(1000) NOT NULL,
    creation_log_user_name character varying(100) NOT NULL,
    creation_log_host_name character varying(100) NOT NULL,
    creation_log_time numeric(20,0) NOT NULL,
    last_update_user_name character varying(100) NOT NULL,
    last_update_host_name character varying(100) NOT NULL,
    last_update_time numeric(20,0) NOT NULL
);


ALTER TABLE public.disk_system OWNER TO cta;

--
-- Name: drive_config; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.drive_config (
    drive_name character varying(100) NOT NULL,
    category character varying(100) NOT NULL,
    key_name character varying(100) NOT NULL,
    value character varying(1000) NOT NULL,
    source character varying(100) NOT NULL
);


ALTER TABLE public.drive_config OWNER TO cta;

--
-- Name: drive_state; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.drive_state (
    drive_name character varying(100) NOT NULL,
    host character varying(100) NOT NULL,
    logical_library character varying(100) NOT NULL,
    session_id numeric(20,0),
    bytes_transfered_in_session numeric(20,0),
    files_transfered_in_session numeric(20,0),
    session_start_time numeric(20,0),
    session_elapsed_time numeric(20,0),
    mount_start_time numeric(20,0),
    transfer_start_time numeric(20,0),
    unload_start_time numeric(20,0),
    unmount_start_time numeric(20,0),
    draining_start_time numeric(20,0),
    down_or_up_start_time numeric(20,0),
    probe_start_time numeric(20,0),
    cleanup_start_time numeric(20,0),
    start_start_time numeric(20,0),
    shutdown_time numeric(20,0),
    mount_type character varying(100) DEFAULT 'NO_MOUNT'::character varying NOT NULL,
    drive_status character varying(100) DEFAULT 'UNKNOWN'::character varying NOT NULL,
    desired_up character(1) DEFAULT '0'::bpchar NOT NULL,
    desired_force_down character(1) DEFAULT '0'::bpchar NOT NULL,
    reason_up_down character varying(1000),
    current_vid character varying(100),
    cta_version character varying(100),
    current_priority numeric(20,0),
    current_activity character varying(100),
    current_tape_pool character varying(100),
    next_mount_type character varying(100) DEFAULT 'NO_MOUNT'::character varying NOT NULL,
    next_vid character varying(100),
    next_priority numeric(20,0),
    next_activity character varying(100),
    next_tape_pool character varying(100),
    dev_file_name character varying(100),
    raw_library_slot character varying(100),
    current_vo character varying(100),
    next_vo character varying(100),
    user_comment character varying(1000),
    creation_log_user_name character varying(100),
    creation_log_host_name character varying(100),
    creation_log_time numeric(20,0),
    last_update_user_name character varying(100),
    last_update_host_name character varying(100),
    last_update_time numeric(20,0),
    disk_system_name character varying(100) NOT NULL,
    reserved_bytes numeric(20,0) NOT NULL,
    CONSTRAINT drive_dfd_bool_ck CHECK ((desired_force_down = ANY (ARRAY['0'::bpchar, '1'::bpchar]))),
    CONSTRAINT drive_ds_string_ck CHECK (((drive_status)::text = ANY ((ARRAY['DOWN'::character varying, 'UP'::character varying, 'PROBING'::character varying, 'STARTING'::character varying, 'MOUNTING'::character varying, 'TRANSFERING'::character varying, 'UNLOADING'::character varying, 'UNMOUNTING'::character varying, 'DRAININGTODISK'::character varying, 'CLEANINGUP'::character varying, 'SHUTDOWN'::character varying, 'UNKNOWN'::character varying])::text[]))),
    CONSTRAINT drive_du_bool_ck CHECK ((desired_up = ANY (ARRAY['0'::bpchar, '1'::bpchar]))),
    CONSTRAINT drive_mt_string_ck CHECK (((mount_type)::text = ANY ((ARRAY['NO_MOUNT'::character varying, 'ARCHIVE_FOR_USER'::character varying, 'ARCHIVE_FOR_REPACK'::character varying, 'RETRIEVE'::character varying, 'LABEL'::character varying, 'ARCHIVE_ALL_TYPES'::character varying])::text[]))),
    CONSTRAINT drive_nmt_string_ck CHECK (((next_mount_type)::text = ANY ((ARRAY['NO_MOUNT'::character varying, 'ARCHIVE_FOR_USER'::character varying, 'ARCHIVE_FOR_REPACK'::character varying, 'RETRIEVE'::character varying, 'LABEL'::character varying, 'ARCHIVE_ALL_TYPES'::character varying])::text[])))
);


ALTER TABLE public.drive_state OWNER TO cta;

--
-- Name: file_recycle_log; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.file_recycle_log (
    file_recycle_log_id numeric(20,0) NOT NULL,
    vid character varying(100) NOT NULL,
    fseq numeric(20,0) NOT NULL,
    block_id numeric(20,0) NOT NULL,
    copy_nb numeric(3,0) NOT NULL,
    tape_file_creation_time numeric(20,0) NOT NULL,
    archive_file_id numeric(20,0) NOT NULL,
    disk_instance_name character varying(100) NOT NULL,
    disk_file_id character varying(100) NOT NULL,
    disk_file_id_when_deleted character varying(100) NOT NULL,
    disk_file_uid numeric(20,0) NOT NULL,
    disk_file_gid numeric(20,0) NOT NULL,
    size_in_bytes numeric(20,0) NOT NULL,
    checksum_blob bytea,
    checksum_adler32 numeric(10,0) NOT NULL,
    storage_class_id numeric(20,0) NOT NULL,
    archive_file_creation_time numeric(20,0) NOT NULL,
    reconciliation_time numeric(20,0) NOT NULL,
    collocation_hint character varying(100),
    disk_file_path character varying(2000),
    reason_log character varying(1000) NOT NULL,
    recycle_log_time numeric(20,0) NOT NULL
);


ALTER TABLE public.file_recycle_log OWNER TO cta;

--
-- Name: file_recycle_log_id_seq; Type: SEQUENCE; Schema: public; Owner: cta
--

CREATE SEQUENCE public.file_recycle_log_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 20;


ALTER TABLE public.file_recycle_log_id_seq OWNER TO cta;

--
-- Name: logical_library; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.logical_library (
    logical_library_id numeric(20,0) NOT NULL,
    logical_library_name character varying(100) NOT NULL,
    is_disabled character(1) DEFAULT '0'::bpchar NOT NULL,
    user_comment character varying(1000) NOT NULL,
    creation_log_user_name character varying(100) NOT NULL,
    creation_log_host_name character varying(100) NOT NULL,
    creation_log_time numeric(20,0) NOT NULL,
    last_update_user_name character varying(100) NOT NULL,
    last_update_host_name character varying(100) NOT NULL,
    last_update_time numeric(20,0) NOT NULL,
    CONSTRAINT logical_library_id_bool_ck CHECK ((is_disabled = ANY (ARRAY['0'::bpchar, '1'::bpchar])))
);


ALTER TABLE public.logical_library OWNER TO cta;

--
-- Name: logical_library_id_seq; Type: SEQUENCE; Schema: public; Owner: cta
--

CREATE SEQUENCE public.logical_library_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 20;


ALTER TABLE public.logical_library_id_seq OWNER TO cta;

--
-- Name: media_type; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.media_type (
    media_type_id numeric(20,0) NOT NULL,
    media_type_name character varying(100) NOT NULL,
    cartridge character varying(100) NOT NULL,
    capacity_in_bytes numeric(20,0) NOT NULL,
    primary_density_code numeric(3,0),
    secondary_density_code numeric(3,0),
    nb_wraps numeric(10,0),
    min_lpos numeric(20,0),
    max_lpos numeric(20,0),
    user_comment character varying(1000) NOT NULL,
    creation_log_user_name character varying(100) NOT NULL,
    creation_log_host_name character varying(100) NOT NULL,
    creation_log_time numeric(20,0) NOT NULL,
    last_update_user_name character varying(100) NOT NULL,
    last_update_host_name character varying(100) NOT NULL,
    last_update_time numeric(20,0) NOT NULL
);


ALTER TABLE public.media_type OWNER TO cta;

--
-- Name: media_type_id_seq; Type: SEQUENCE; Schema: public; Owner: cta
--

CREATE SEQUENCE public.media_type_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 20;


ALTER TABLE public.media_type_id_seq OWNER TO cta;

--
-- Name: mount_policy; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.mount_policy (
    mount_policy_name character varying(100) NOT NULL,
    archive_priority numeric(20,0) NOT NULL,
    archive_min_request_age numeric(20,0) NOT NULL,
    retrieve_priority numeric(20,0) NOT NULL,
    retrieve_min_request_age numeric(20,0) NOT NULL,
    user_comment character varying(1000) NOT NULL,
    creation_log_user_name character varying(100) NOT NULL,
    creation_log_host_name character varying(100) NOT NULL,
    creation_log_time numeric(20,0) NOT NULL,
    last_update_user_name character varying(100) NOT NULL,
    last_update_host_name character varying(100) NOT NULL,
    last_update_time numeric(20,0) NOT NULL
);


ALTER TABLE public.mount_policy OWNER TO cta;

--
-- Name: requester_activity_mount_rule; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.requester_activity_mount_rule (
    disk_instance_name character varying(100) NOT NULL,
    requester_name character varying(100) NOT NULL,
    activity_regex character varying(100) NOT NULL,
    mount_policy_name character varying(100) NOT NULL,
    user_comment character varying(1000) NOT NULL,
    creation_log_user_name character varying(100) NOT NULL,
    creation_log_host_name character varying(100) NOT NULL,
    creation_log_time numeric(20,0) NOT NULL,
    last_update_user_name character varying(100) NOT NULL,
    last_update_host_name character varying(100) NOT NULL,
    last_update_time numeric(20,0) NOT NULL
);


ALTER TABLE public.requester_activity_mount_rule OWNER TO cta;

--
-- Name: requester_group_mount_rule; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.requester_group_mount_rule (
    disk_instance_name character varying(100) NOT NULL,
    requester_group_name character varying(100) NOT NULL,
    mount_policy_name character varying(100) NOT NULL,
    user_comment character varying(1000) NOT NULL,
    creation_log_user_name character varying(100) NOT NULL,
    creation_log_host_name character varying(100) NOT NULL,
    creation_log_time numeric(20,0) NOT NULL,
    last_update_user_name character varying(100) NOT NULL,
    last_update_host_name character varying(100) NOT NULL,
    last_update_time numeric(20,0) NOT NULL
);


ALTER TABLE public.requester_group_mount_rule OWNER TO cta;

--
-- Name: requester_mount_rule; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.requester_mount_rule (
    disk_instance_name character varying(100) NOT NULL,
    requester_name character varying(100) NOT NULL,
    mount_policy_name character varying(100) NOT NULL,
    user_comment character varying(1000) NOT NULL,
    creation_log_user_name character varying(100) NOT NULL,
    creation_log_host_name character varying(100) NOT NULL,
    creation_log_time numeric(20,0) NOT NULL,
    last_update_user_name character varying(100) NOT NULL,
    last_update_host_name character varying(100) NOT NULL,
    last_update_time numeric(20,0) NOT NULL
);


ALTER TABLE public.requester_mount_rule OWNER TO cta;

--
-- Name: storage_class; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.storage_class (
    storage_class_id numeric(20,0) NOT NULL,
    storage_class_name character varying(100) NOT NULL,
    nb_copies numeric(3,0) NOT NULL,
    virtual_organization_id numeric(20,0) NOT NULL,
    user_comment character varying(1000) NOT NULL,
    creation_log_user_name character varying(100) NOT NULL,
    creation_log_host_name character varying(100) NOT NULL,
    creation_log_time numeric(20,0) NOT NULL,
    last_update_user_name character varying(100) NOT NULL,
    last_update_host_name character varying(100) NOT NULL,
    last_update_time numeric(20,0) NOT NULL
);


ALTER TABLE public.storage_class OWNER TO cta;

--
-- Name: storage_class_id_seq; Type: SEQUENCE; Schema: public; Owner: cta
--

CREATE SEQUENCE public.storage_class_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 20;


ALTER TABLE public.storage_class_id_seq OWNER TO cta;

--
-- Name: tape; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.tape (
    vid character varying(100) NOT NULL,
    media_type_id numeric(20,0) NOT NULL,
    vendor character varying(100) NOT NULL,
    logical_library_id numeric(20,0) NOT NULL,
    tape_pool_id numeric(20,0) NOT NULL,
    encryption_key_name character varying(100),
    data_in_bytes numeric(20,0) NOT NULL,
    last_fseq numeric(20,0) NOT NULL,
    nb_master_files numeric(20,0) DEFAULT 0 NOT NULL,
    master_data_in_bytes numeric(20,0) DEFAULT 0 NOT NULL,
    is_full character(1) NOT NULL,
    is_from_castor character(1) NOT NULL,
    dirty character(1) DEFAULT '1'::bpchar NOT NULL,
    nb_copy_nb_1 numeric(20,0) DEFAULT 0 NOT NULL,
    copy_nb_1_in_bytes numeric(20,0) DEFAULT 0 NOT NULL,
    nb_copy_nb_gt_1 numeric(20,0) DEFAULT 0 NOT NULL,
    copy_nb_gt_1_in_bytes numeric(20,0) DEFAULT 0 NOT NULL,
    label_drive character varying(100),
    label_time numeric(20,0),
    last_read_drive character varying(100),
    last_read_time numeric(20,0),
    last_write_drive character varying(100),
    last_write_time numeric(20,0),
    read_mount_count numeric(20,0) DEFAULT 0 NOT NULL,
    write_mount_count numeric(20,0) DEFAULT 0 NOT NULL,
    user_comment character varying(1000),
    tape_state character varying(100) NOT NULL,
    state_reason character varying(1000),
    state_update_time numeric(20,0) NOT NULL,
    state_modified_by character varying(100) NOT NULL,
    creation_log_user_name character varying(100) NOT NULL,
    creation_log_host_name character varying(100) NOT NULL,
    creation_log_time numeric(20,0) NOT NULL,
    last_update_user_name character varying(100) NOT NULL,
    last_update_host_name character varying(100) NOT NULL,
    last_update_time numeric(20,0) NOT NULL,
    CONSTRAINT tape_dirty_bool_ck CHECK ((dirty = ANY (ARRAY['0'::bpchar, '1'::bpchar]))),
    CONSTRAINT tape_is_from_castor_bool_ck CHECK ((is_from_castor = ANY (ARRAY['0'::bpchar, '1'::bpchar]))),
    CONSTRAINT tape_is_full_bool_ck CHECK ((is_full = ANY (ARRAY['0'::bpchar, '1'::bpchar]))),
    CONSTRAINT tape_state_ck CHECK (((tape_state)::text = ANY ((ARRAY['ACTIVE'::character varying, 'DISABLED'::character varying, 'BROKEN'::character varying])::text[])))
);


ALTER TABLE public.tape OWNER TO cta;

--
-- Name: tape_drive; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.tape_drive (
    drive_name character varying(100) NOT NULL,
    host character varying(100) NOT NULL,
    logical_library character varying(100) NOT NULL,
    session_id numeric(20,0),
    bytes_transfered_in_session numeric(20,0),
    files_transfered_in_session numeric(20,0),
    latest_bandwidth character varying(100),
    session_start_time numeric(20,0),
    mount_start_time numeric(20,0),
    transfer_start_time numeric(20,0),
    unload_start_time numeric(20,0),
    unmount_start_time numeric(20,0),
    draining_start_time numeric(20,0),
    down_or_up_start_time numeric(20,0),
    probe_start_time numeric(20,0),
    cleanup_start_time numeric(20,0),
    start_start_time numeric(20,0),
    shutdown_time numeric(20,0),
    mount_type numeric(10,0) NOT NULL,
    drive_status character varying(100) DEFAULT 'UNKNOWN'::character varying NOT NULL,
    desired_up character(1) DEFAULT '0'::bpchar NOT NULL,
    desired_force_down character(1) DEFAULT '0'::bpchar NOT NULL,
    reason_up_down character varying(1000),
    current_vid character varying(100),
    cta_version character varying(100),
    current_priority numeric(20,0),
    current_activity character varying(100),
    current_activity_weight character varying(100),
    current_tape_pool character varying(100),
    next_mount_type numeric(10,0),
    next_vid character varying(100),
    next_tape_pool character varying(100),
    next_priority numeric(20,0),
    next_activity character varying(100),
    next_activity_weight character varying(100),
    dev_file_name character varying(100),
    raw_library_slot character varying(100),
    current_vo character varying(100),
    next_vo character varying(100),
    user_comment character varying(1000),
    creation_log_user_name character varying(100),
    creation_log_host_name character varying(100),
    creation_log_time numeric(20,0),
    last_update_user_name character varying(100),
    last_update_host_name character varying(100),
    last_update_time numeric(20,0),
    disk_system_name character varying(100) NOT NULL,
    reserved_bytes numeric(20,0) NOT NULL,
    CONSTRAINT drive_state_dfd_bool_ck CHECK ((desired_force_down = ANY (ARRAY['0'::bpchar, '1'::bpchar]))),
    CONSTRAINT drive_state_ds_string_ck CHECK (((drive_status)::text = ANY ((ARRAY['DOWN'::character varying, 'UP'::character varying, 'PROBING'::character varying, 'STARTING'::character varying, 'MOUNTING'::character varying, 'TRANSFERING'::character varying, 'UNLOADING'::character varying, 'UNMOUNTING'::character varying, 'DRAININGTODISK'::character varying, 'CLEANINGUP'::character varying, 'SHUTDOWN'::character varying, 'UNKNOWN'::character varying])::text[]))),
    CONSTRAINT drive_state_du_bool_ck CHECK ((desired_up = ANY (ARRAY['0'::bpchar, '1'::bpchar])))
);


ALTER TABLE public.tape_drive OWNER TO cta;

--
-- Name: tape_file; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.tape_file (
    vid character varying(100) NOT NULL,
    fseq numeric(20,0) NOT NULL,
    block_id numeric(20,0) NOT NULL,
    logical_size_in_bytes numeric(20,0) NOT NULL,
    copy_nb numeric(3,0) NOT NULL,
    creation_time numeric(20,0) NOT NULL,
    archive_file_id numeric(20,0) NOT NULL,
    CONSTRAINT tape_file_copy_nb_gt_0_ck CHECK ((copy_nb > (0)::numeric))
);


ALTER TABLE public.tape_file OWNER TO cta;

--
-- Name: tape_pool; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.tape_pool (
    tape_pool_id numeric(20,0) NOT NULL,
    tape_pool_name character varying(100) NOT NULL,
    virtual_organization_id numeric(20,0) NOT NULL,
    nb_partial_tapes numeric(20,0) NOT NULL,
    is_encrypted character(1) NOT NULL,
    supply character varying(100),
    user_comment character varying(1000) NOT NULL,
    creation_log_user_name character varying(100) NOT NULL,
    creation_log_host_name character varying(100) NOT NULL,
    creation_log_time numeric(20,0) NOT NULL,
    last_update_user_name character varying(100) NOT NULL,
    last_update_host_name character varying(100) NOT NULL,
    last_update_time numeric(20,0) NOT NULL,
    CONSTRAINT tape_pool_is_encrypted_bool_ck CHECK ((is_encrypted = ANY (ARRAY['0'::bpchar, '1'::bpchar])))
);


ALTER TABLE public.tape_pool OWNER TO cta;

--
-- Name: tape_pool_id_seq; Type: SEQUENCE; Schema: public; Owner: cta
--

CREATE SEQUENCE public.tape_pool_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 20;


ALTER TABLE public.tape_pool_id_seq OWNER TO cta;

--
-- Name: virtual_organization; Type: TABLE; Schema: public; Owner: cta
--

CREATE TABLE public.virtual_organization (
    virtual_organization_id numeric(20,0) NOT NULL,
    virtual_organization_name character varying(100) NOT NULL,
    read_max_drives numeric(20,0) NOT NULL,
    write_max_drives numeric(20,0) NOT NULL,
    max_file_size numeric(20,0) NOT NULL,
    user_comment character varying(1000) NOT NULL,
    creation_log_user_name character varying(100) NOT NULL,
    creation_log_host_name character varying(100) NOT NULL,
    creation_log_time numeric(20,0) NOT NULL,
    last_update_user_name character varying(100) NOT NULL,
    last_update_host_name character varying(100) NOT NULL,
    last_update_time numeric(20,0) NOT NULL
);


ALTER TABLE public.virtual_organization OWNER TO cta;

--
-- Name: virtual_organization_id_seq; Type: SEQUENCE; Schema: public; Owner: cta
--

CREATE SEQUENCE public.virtual_organization_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 20;


ALTER TABLE public.virtual_organization_id_seq OWNER TO cta;

--
-- Data for Name: activities_weights; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.activities_weights (disk_instance_name, activity, weight, user_comment, creation_log_user_name, creation_log_host_name, creation_log_time, last_update_user_name, last_update_host_name, last_update_time) FROM stdin;
\.


--
-- Data for Name: admin_user; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.admin_user (admin_user_name, user_comment, creation_log_user_name, creation_log_host_name, creation_log_time, last_update_user_name, last_update_host_name, last_update_time) FROM stdin;
ctaadmin1	docker cli	UNKNOWN	ctafrontend	1643403804	UNKNOWN	ctafrontend	1643403804
ctaadmin2	ctaadmin2	ctaadmin1	ctafrontend	1643403822	ctaadmin1	ctafrontend	1643403822
\.


--
-- Data for Name: archive_file; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.archive_file (archive_file_id, disk_instance_name, disk_file_id, disk_file_uid, disk_file_gid, size_in_bytes, checksum_blob, checksum_adler32, storage_class_id, creation_time, reconciliation_time, is_deleted, collocation_hint) FROM stdin;
\.


--
-- Name: archive_file_id_seq; Type: SEQUENCE SET; Schema: public; Owner: cta
--

SELECT pg_catalog.setval('public.archive_file_id_seq', 20, true);


--
-- Data for Name: archive_route; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.archive_route (storage_class_id, copy_nb, tape_pool_id, user_comment, creation_log_user_name, creation_log_host_name, creation_log_time, last_update_user_name, last_update_host_name, last_update_time) FROM stdin;
1	1	1	ctasystest	ctaadmin1	ctafrontend	1643403809	ctaadmin1	ctafrontend	1643403809
\.


--
-- Data for Name: cta_catalogue; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.cta_catalogue (schema_version_major, schema_version_minor, next_schema_version_major, next_schema_version_minor, status, is_production) FROM stdin;
4	4	\N	\N	PRODUCTION	0
\.


--
-- Data for Name: disk_system; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.disk_system (disk_system_name, file_regexp, free_space_query_url, refresh_interval, targeted_free_space, sleep_time, user_comment, creation_log_user_name, creation_log_host_name, creation_log_time, last_update_user_name, last_update_host_name, last_update_time) FROM stdin;
\.


--
-- Data for Name: drive_config; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.drive_config (drive_name, category, key_name, value, source) FROM stdin;
VDSTK11	taped	DaemonUserName	cta	Compile time default
VDSTK11	taped	DaemonGroupName	tape	Compile time default
VDSTK11	taped	LogMask	DEBUG	Compile time default
VDSTK11	taped	TpConfigPath	/etc/cta/TPCONFIG	Compile time default
VDSTK11	taped	BufferSizeBytes	262144	/etc/cta/cta-taped.conf:1
VDSTK11	taped	BufferCount	200	/etc/cta/cta-taped.conf:2
VDSTK11	taped	ArchiveFetchFiles	4000	Compile time default
VDSTK11	taped	ArchiveFetchBytes	80000000000	Compile time default
VDSTK11	taped	ArchiveFlushFiles	200	Compile time default
VDSTK11	taped	ArchiveFlushBytes	32000000000	Compile time default
VDSTK11	taped	RetrieveFetchFiles	4000	Compile time default
VDSTK11	taped	RetrieveFetchBytes	80000000000	Compile time default
VDSTK11	taped	MountCriteriaFiles	100	/etc/cta/cta-taped.conf:3
VDSTK11	taped	MountCriteriaBytes	2000000	/etc/cta/cta-taped.conf:3
VDSTK11	taped	NbDiskThreads	10	Compile time default
VDSTK11	taped	UseRAO	no	Compile time default
VDSTK11	taped	RAOLTOAlgorithm	linear	Compile time default
VDSTK11	taped	UseEncryption	no	/etc/cta/cta-taped.conf:5
VDSTK11	taped	externalEncryptionKeyScript	NULL	Compile time default
VDSTK11	taped	RAOLTOAlgorithmOptions	NULL	Compile time default
VDSTK11	taped	WatchdogScheduleMaxSecs	60	Compile time default
VDSTK11	taped	WatchdogMountMaxSecs	900	Compile time default
VDSTK11	taped	WatchdogNoBlockMoveMaxSecs	1800	Compile time default
VDSTK11	taped	WatchdogIdleSessionTimer	10	Compile time default
VDSTK11	ObjectStore	BackendPath	/shared/cta/objectstore	/etc/cta/cta-taped.conf:4
VDSTK11	general	FileCatalogConfigFile	/etc/cta/cta-catalogue.conf	Compile time default
VDSTK11	environment	XrdSecPROTOCOL	sss	Environment variable
VDSTK11	environment	XrdSecSSSKT	/etc/cta/cta-taped.sss.keytab	Environment variable
VDSTK11	taped	DisableRepackManagement	no	Compile time default
VDSTK11	taped	DisableMaintenanceProcess	no	Compile time default
VDSTK11	taped	FetchEosFreeSpaceScript	NULL	Compile time default
VDSTK11	taped	TapeLoadTimeout	60	Compile time default
VDSTK12	taped	DaemonUserName	cta	Compile time default
VDSTK12	taped	DaemonGroupName	tape	Compile time default
VDSTK12	taped	LogMask	DEBUG	Compile time default
VDSTK12	taped	TpConfigPath	/etc/cta/TPCONFIG	Compile time default
VDSTK12	taped	BufferSizeBytes	262144	/etc/cta/cta-taped.conf:1
VDSTK12	taped	BufferCount	200	/etc/cta/cta-taped.conf:2
VDSTK12	taped	ArchiveFetchFiles	4000	Compile time default
VDSTK12	taped	ArchiveFetchBytes	80000000000	Compile time default
VDSTK12	taped	ArchiveFlushFiles	200	Compile time default
VDSTK12	taped	ArchiveFlushBytes	32000000000	Compile time default
VDSTK12	taped	RetrieveFetchFiles	4000	Compile time default
VDSTK12	taped	RetrieveFetchBytes	80000000000	Compile time default
VDSTK12	taped	MountCriteriaFiles	100	/etc/cta/cta-taped.conf:3
VDSTK12	taped	MountCriteriaBytes	2000000	/etc/cta/cta-taped.conf:3
VDSTK12	taped	NbDiskThreads	10	Compile time default
VDSTK12	taped	UseRAO	no	Compile time default
VDSTK12	taped	RAOLTOAlgorithm	linear	Compile time default
VDSTK12	taped	UseEncryption	no	/etc/cta/cta-taped.conf:5
VDSTK12	taped	externalEncryptionKeyScript	NULL	Compile time default
VDSTK12	taped	RAOLTOAlgorithmOptions	NULL	Compile time default
VDSTK12	taped	WatchdogScheduleMaxSecs	60	Compile time default
VDSTK12	taped	WatchdogMountMaxSecs	900	Compile time default
VDSTK12	taped	WatchdogNoBlockMoveMaxSecs	1800	Compile time default
VDSTK12	taped	WatchdogIdleSessionTimer	10	Compile time default
VDSTK12	ObjectStore	BackendPath	/shared/cta/objectstore	/etc/cta/cta-taped.conf:4
VDSTK12	general	FileCatalogConfigFile	/etc/cta/cta-catalogue.conf	Compile time default
VDSTK12	environment	XrdSecPROTOCOL	sss	Environment variable
VDSTK12	environment	XrdSecSSSKT	/etc/cta/cta-taped.sss.keytab	Environment variable
VDSTK12	taped	DisableRepackManagement	no	Compile time default
VDSTK12	taped	DisableMaintenanceProcess	no	Compile time default
VDSTK12	taped	FetchEosFreeSpaceScript	NULL	Compile time default
VDSTK12	taped	TapeLoadTimeout	60	Compile time default
\.


--
-- Data for Name: drive_state; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.drive_state (drive_name, host, logical_library, session_id, bytes_transfered_in_session, files_transfered_in_session, session_start_time, session_elapsed_time, mount_start_time, transfer_start_time, unload_start_time, unmount_start_time, draining_start_time, down_or_up_start_time, probe_start_time, cleanup_start_time, start_start_time, shutdown_time, mount_type, drive_status, desired_up, desired_force_down, reason_up_down, current_vid, cta_version, current_priority, current_activity, current_tape_pool, next_mount_type, next_vid, next_priority, next_activity, next_tape_pool, dev_file_name, raw_library_slot, current_vo, next_vo, user_comment, creation_log_user_name, creation_log_host_name, creation_log_time, last_update_user_name, last_update_host_name, last_update_time, disk_system_name, reserved_bytes) FROM stdin;
\.


--
-- Data for Name: file_recycle_log; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.file_recycle_log (file_recycle_log_id, vid, fseq, block_id, copy_nb, tape_file_creation_time, archive_file_id, disk_instance_name, disk_file_id, disk_file_id_when_deleted, disk_file_uid, disk_file_gid, size_in_bytes, checksum_blob, checksum_adler32, storage_class_id, archive_file_creation_time, reconciliation_time, collocation_hint, disk_file_path, reason_log, recycle_log_time) FROM stdin;
1	V01007	1	0	1	1643405049	1	ctaeos	7	7	11001	1100	407	\\x0a0808011204607ece20	550403680	1	1643405049	1643405049	\N	/eos/ctaeos/cta/3566aea4-5722-4688-87e7-1b5535005c6f	File deleted by user1 from the ctaeos instance	1643405062
\.


--
-- Name: file_recycle_log_id_seq; Type: SEQUENCE SET; Schema: public; Owner: cta
--

SELECT pg_catalog.setval('public.file_recycle_log_id_seq', 20, true);


--
-- Data for Name: logical_library; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.logical_library (logical_library_id, logical_library_name, is_disabled, user_comment, creation_log_user_name, creation_log_host_name, creation_log_time, last_update_user_name, last_update_host_name, last_update_time) FROM stdin;
1	VDSTK11	0	ctasystest library mapped to drive VDSTK11	ctaadmin1	ctafrontend	1643403806	ctaadmin1	ctafrontend	1643403806
2	VDSTK12	0	ctasystest library mapped to drive VDSTK12	ctaadmin1	ctafrontend	1643403806	ctaadmin1	ctafrontend	1643403806
\.


--
-- Name: logical_library_id_seq; Type: SEQUENCE SET; Schema: public; Owner: cta
--

SELECT pg_catalog.setval('public.logical_library_id_seq', 20, true);


--
-- Data for Name: media_type; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.media_type (media_type_id, media_type_name, cartridge, capacity_in_bytes, primary_density_code, secondary_density_code, nb_wraps, min_lpos, max_lpos, user_comment, creation_log_user_name, creation_log_host_name, creation_log_time, last_update_user_name, last_update_host_name, last_update_time) FROM stdin;
1	T10K500G	T10000	500000000000	74	\N	\N	\N	\N	Oracle T10000 cartridge formated at 500 GB (for developers only)	ctaadmin1	ctafrontend	1643403806	ctaadmin1	ctafrontend	1643403806
2	3592JC7T	3592JC	7000000000000	84	\N	\N	\N	\N	IBM 3592JC cartridge formated at 7 TB	ctaadmin1	ctafrontend	1643403807	ctaadmin1	ctafrontend	1643403807
3	3592JD15T	3592JD	15000000000000	85	\N	\N	\N	\N	IBM 3592JD cartridge formated at 15 TB	ctaadmin1	ctafrontend	1643403807	ctaadmin1	ctafrontend	1643403807
4	3592JE20T	3592JE	20000000000000	87	\N	\N	\N	\N	IBM 3592JE cartridge formated at 20 TB	ctaadmin1	ctafrontend	1643403807	ctaadmin1	ctafrontend	1643403807
5	LTO7M	LTO-7	9000000000000	93	\N	\N	\N	\N	LTO-7 M8 cartridge formated at 9 TB	ctaadmin1	ctafrontend	1643403807	ctaadmin1	ctafrontend	1643403807
6	LTO8	LTO-8	12000000000000	94	\N	\N	\N	\N	LTO-8 cartridge formated at 12 TB	ctaadmin1	ctafrontend	1643403807	ctaadmin1	ctafrontend	1643403807
\.


--
-- Name: media_type_id_seq; Type: SEQUENCE SET; Schema: public; Owner: cta
--

SELECT pg_catalog.setval('public.media_type_id_seq', 20, true);


--
-- Data for Name: mount_policy; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.mount_policy (mount_policy_name, archive_priority, archive_min_request_age, retrieve_priority, retrieve_min_request_age, user_comment, creation_log_user_name, creation_log_host_name, creation_log_time, last_update_user_name, last_update_host_name, last_update_time) FROM stdin;
ctasystest	1	1	1	1	ctasystest	ctaadmin1	ctafrontend	1643403809	ctaadmin1	ctafrontend	1643403809
repack_ctasystest	2	1	2	1	repack mountpolicy for ctasystest	ctaadmin1	ctafrontend	1643403810	ctaadmin1	ctafrontend	1643403810
\.


--
-- Data for Name: requester_activity_mount_rule; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.requester_activity_mount_rule (disk_instance_name, requester_name, activity_regex, mount_policy_name, user_comment, creation_log_user_name, creation_log_host_name, creation_log_time, last_update_user_name, last_update_host_name, last_update_time) FROM stdin;
ctaeos	powerusers	^T0Reprocess$	ctasystest	ctasystest	ctaadmin1	ctafrontend	1643403810	ctaadmin1	ctafrontend	1643403810
\.


--
-- Data for Name: requester_group_mount_rule; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.requester_group_mount_rule (disk_instance_name, requester_group_name, mount_policy_name, user_comment, creation_log_user_name, creation_log_host_name, creation_log_time, last_update_user_name, last_update_host_name, last_update_time) FROM stdin;
ctaeos	eosusers	ctasystest	ctasystest	ctaadmin1	ctafrontend	1643403809	ctaadmin1	ctafrontend	1643403809
ctaeos	powerusers	ctasystest	ctasystest	ctaadmin1	ctafrontend	1643403810	ctaadmin1	ctafrontend	1643403810
\.


--
-- Data for Name: requester_mount_rule; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.requester_mount_rule (disk_instance_name, requester_name, mount_policy_name, user_comment, creation_log_user_name, creation_log_host_name, creation_log_time, last_update_user_name, last_update_host_name, last_update_time) FROM stdin;
ctaeos	adm	ctasystest	ctasystest	ctaadmin1	ctafrontend	1643403809	ctaadmin1	ctafrontend	1643403809
\.


--
-- Data for Name: storage_class; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.storage_class (storage_class_id, storage_class_name, nb_copies, virtual_organization_id, user_comment, creation_log_user_name, creation_log_host_name, creation_log_time, last_update_user_name, last_update_host_name, last_update_time) FROM stdin;
1	ctaStorageClass	1	1	ctasystest	ctaadmin1	ctafrontend	1643403809	ctaadmin1	ctafrontend	1643403809
\.


--
-- Name: storage_class_id_seq; Type: SEQUENCE SET; Schema: public; Owner: cta
--

SELECT pg_catalog.setval('public.storage_class_id_seq', 20, true);


--
-- Data for Name: tape; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.tape (vid, media_type_id, vendor, logical_library_id, tape_pool_id, encryption_key_name, data_in_bytes, last_fseq, nb_master_files, master_data_in_bytes, is_full, is_from_castor, dirty, nb_copy_nb_1, copy_nb_1_in_bytes, nb_copy_nb_gt_1, copy_nb_gt_1_in_bytes, label_drive, label_time, last_read_drive, last_read_time, last_write_drive, last_write_time, read_mount_count, write_mount_count, user_comment, tape_state, state_reason, state_update_time, state_modified_by, creation_log_user_name, creation_log_host_name, creation_log_time, last_update_user_name, last_update_host_name, last_update_time) FROM stdin;
V01001	1	vendor	1	1	\N	0	0	0	0	0	0	1	0	0	0	0	VDSTK11	1643403812	\N	\N	\N	\N	0	0	ctasystest	ACTIVE	\N	1643403807	ctaadmin1@ctafrontend	ctaadmin1	ctafrontend	1643403807	ctaadmin1	ctafrontend	1643403807
V01002	1	vendor	2	1	\N	0	0	0	0	0	0	1	0	0	0	0	VDSTK11	1643403813	\N	\N	\N	\N	0	0	ctasystest	ACTIVE	\N	1643403808	ctaadmin1@ctafrontend	ctaadmin1	ctafrontend	1643403808	ctaadmin1	ctafrontend	1643403808
V01003	1	vendor	1	1	\N	0	0	0	0	0	0	1	0	0	0	0	VDSTK11	1643403815	\N	\N	\N	\N	0	0	ctasystest	ACTIVE	\N	1643403808	ctaadmin1@ctafrontend	ctaadmin1	ctafrontend	1643403808	ctaadmin1	ctafrontend	1643403808
V01004	1	vendor	2	1	\N	0	0	0	0	0	0	1	0	0	0	0	VDSTK11	1643403816	\N	\N	\N	\N	0	0	ctasystest	ACTIVE	\N	1643403808	ctaadmin1@ctafrontend	ctaadmin1	ctafrontend	1643403808	ctaadmin1	ctafrontend	1643403808
V01005	1	vendor	1	1	\N	0	0	0	0	0	0	1	0	0	0	0	VDSTK11	1643403817	\N	\N	\N	\N	0	0	ctasystest	ACTIVE	\N	1643403808	ctaadmin1@ctafrontend	ctaadmin1	ctafrontend	1643403808	ctaadmin1	ctafrontend	1643403808
V01006	1	vendor	2	1	\N	0	0	0	0	0	0	1	0	0	0	0	VDSTK11	1643403819	\N	\N	\N	\N	0	0	ctasystest	ACTIVE	\N	1643403808	ctaadmin1@ctafrontend	ctaadmin1	ctafrontend	1643403808	ctaadmin1	ctafrontend	1643403808
V01007	1	vendor	1	1	\N	407	1	0	0	0	0	1	0	0	0	0	VDSTK11	1643403820	VDSTK11	1643405061	VDSTK11	1643405049	1	1	ctasystest	ACTIVE	\N	1643403809	ctaadmin1@ctafrontend	ctaadmin1	ctafrontend	1643403809	ctaadmin1	ctafrontend	1643403809
\.


--
-- Data for Name: tape_drive; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.tape_drive (drive_name, host, logical_library, session_id, bytes_transfered_in_session, files_transfered_in_session, latest_bandwidth, session_start_time, mount_start_time, transfer_start_time, unload_start_time, unmount_start_time, draining_start_time, down_or_up_start_time, probe_start_time, cleanup_start_time, start_start_time, shutdown_time, mount_type, drive_status, desired_up, desired_force_down, reason_up_down, current_vid, cta_version, current_priority, current_activity, current_activity_weight, current_tape_pool, next_mount_type, next_vid, next_tape_pool, next_priority, next_activity, next_activity_weight, dev_file_name, raw_library_slot, current_vo, next_vo, user_comment, creation_log_user_name, creation_log_host_name, creation_log_time, last_update_user_name, last_update_host_name, last_update_time, disk_system_name, reserved_bytes) FROM stdin;
VDSTK11	tpsrv01	VDSTK11	0	0	0	0	0	0	0	0	0	0	1643405062	0	0	1643405061	0	0	UP	1	0	\N	\N	0-1	\N	\N	1.0	\N	\N	\N	\N	\N	\N	1.0	/dev/nst2	smc0	\N	\N	\N	NO_USER	tpsrv01	1643403759	NO_USER	tpsrv01	1643405163	NULL	0
VDSTK12	tpsrv02	VDSTK12	\N	\N	\N	0.0	\N	\N	\N	\N	\N	\N	1643403765	\N	\N	\N	\N	0	DOWN	0	0	[cta-taped] INFO Startup	\N	0-1	\N	\N	1.0	\N	\N	\N	\N	\N	\N	1.0	/dev/nst0	smc1	\N	\N	\N	NO_USER	tpsrv02	1643403765	NO_USER	tpsrv02	1643405167	NULL	0
\.


--
-- Data for Name: tape_file; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.tape_file (vid, fseq, block_id, logical_size_in_bytes, copy_nb, creation_time, archive_file_id) FROM stdin;
\.


--
-- Data for Name: tape_pool; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.tape_pool (tape_pool_id, tape_pool_name, virtual_organization_id, nb_partial_tapes, is_encrypted, supply, user_comment, creation_log_user_name, creation_log_host_name, creation_log_time, last_update_user_name, last_update_host_name, last_update_time) FROM stdin;
1	ctasystest	1	5	0	\N	ctasystest	ctaadmin1	ctafrontend	1643403806	ctaadmin1	ctafrontend	1643403806
\.


--
-- Name: tape_pool_id_seq; Type: SEQUENCE SET; Schema: public; Owner: cta
--

SELECT pg_catalog.setval('public.tape_pool_id_seq', 20, true);


--
-- Data for Name: virtual_organization; Type: TABLE DATA; Schema: public; Owner: cta
--

COPY public.virtual_organization (virtual_organization_id, virtual_organization_name, read_max_drives, write_max_drives, max_file_size, user_comment, creation_log_user_name, creation_log_host_name, creation_log_time, last_update_user_name, last_update_host_name, last_update_time) FROM stdin;
1	vo	1	1	1073741824000	vo	ctaadmin1	ctafrontend	1643403806	ctaadmin1	ctafrontend	1643403806
\.


--
-- Name: virtual_organization_id_seq; Type: SEQUENCE SET; Schema: public; Owner: cta
--

SELECT pg_catalog.setval('public.virtual_organization_id_seq', 20, true);


--
-- Name: admin_user admin_user_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.admin_user
    ADD CONSTRAINT admin_user_pk PRIMARY KEY (admin_user_name);


--
-- Name: archive_file archive_file_din_dfi_un; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.archive_file
    ADD CONSTRAINT archive_file_din_dfi_un UNIQUE (disk_instance_name, disk_file_id) DEFERRABLE;


--
-- Name: archive_file archive_file_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.archive_file
    ADD CONSTRAINT archive_file_pk PRIMARY KEY (archive_file_id);


--
-- Name: archive_route archive_route_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.archive_route
    ADD CONSTRAINT archive_route_pk PRIMARY KEY (storage_class_id, copy_nb);


--
-- Name: archive_route archive_route_sci_tpi_un; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.archive_route
    ADD CONSTRAINT archive_route_sci_tpi_un UNIQUE (storage_class_id, tape_pool_id);


--
-- Name: drive_config drive_config_dn_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.drive_config
    ADD CONSTRAINT drive_config_dn_pk PRIMARY KEY (key_name, drive_name);


--
-- Name: drive_state drive_dn_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.drive_state
    ADD CONSTRAINT drive_dn_pk PRIMARY KEY (drive_name);


--
-- Name: tape_drive drive_state_dn_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.tape_drive
    ADD CONSTRAINT drive_state_dn_pk PRIMARY KEY (drive_name);


--
-- Name: file_recycle_log file_recycle_log_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.file_recycle_log
    ADD CONSTRAINT file_recycle_log_pk PRIMARY KEY (file_recycle_log_id);


--
-- Name: logical_library logical_library_lln_un; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.logical_library
    ADD CONSTRAINT logical_library_lln_un UNIQUE (logical_library_name);


--
-- Name: logical_library logical_library_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.logical_library
    ADD CONSTRAINT logical_library_pk PRIMARY KEY (logical_library_id);


--
-- Name: media_type media_type_mtn_un; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.media_type
    ADD CONSTRAINT media_type_mtn_un UNIQUE (media_type_name);


--
-- Name: media_type media_type_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.media_type
    ADD CONSTRAINT media_type_pk PRIMARY KEY (media_type_id);


--
-- Name: mount_policy mount_policy_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.mount_policy
    ADD CONSTRAINT mount_policy_pk PRIMARY KEY (mount_policy_name);


--
-- Name: disk_system name_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.disk_system
    ADD CONSTRAINT name_pk PRIMARY KEY (disk_system_name);


--
-- Name: requester_activity_mount_rule rqster_act_rule_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.requester_activity_mount_rule
    ADD CONSTRAINT rqster_act_rule_pk PRIMARY KEY (disk_instance_name, requester_name, activity_regex);


--
-- Name: requester_group_mount_rule rqster_grp_rule_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.requester_group_mount_rule
    ADD CONSTRAINT rqster_grp_rule_pk PRIMARY KEY (disk_instance_name, requester_group_name);


--
-- Name: requester_mount_rule rqster_rule_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.requester_mount_rule
    ADD CONSTRAINT rqster_rule_pk PRIMARY KEY (disk_instance_name, requester_name);


--
-- Name: storage_class storage_class_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.storage_class
    ADD CONSTRAINT storage_class_pk PRIMARY KEY (storage_class_id);


--
-- Name: storage_class storage_class_scn_un; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.storage_class
    ADD CONSTRAINT storage_class_scn_un UNIQUE (storage_class_name);


--
-- Name: tape_file tape_file_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.tape_file
    ADD CONSTRAINT tape_file_pk PRIMARY KEY (vid, fseq);


--
-- Name: tape_file tape_file_vid_block_id_un; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.tape_file
    ADD CONSTRAINT tape_file_vid_block_id_un UNIQUE (vid, block_id);


--
-- Name: tape tape_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.tape
    ADD CONSTRAINT tape_pk PRIMARY KEY (vid);


--
-- Name: tape_pool tape_pool_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.tape_pool
    ADD CONSTRAINT tape_pool_pk PRIMARY KEY (tape_pool_id);


--
-- Name: tape_pool tape_pool_tpn_un; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.tape_pool
    ADD CONSTRAINT tape_pool_tpn_un UNIQUE (tape_pool_name);


--
-- Name: virtual_organization virtual_organization_pk; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.virtual_organization
    ADD CONSTRAINT virtual_organization_pk PRIMARY KEY (virtual_organization_id);


--
-- Name: virtual_organization virtual_organization_von_un; Type: CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.virtual_organization
    ADD CONSTRAINT virtual_organization_von_un UNIQUE (virtual_organization_name);


--
-- Name: archive_file_dfi_idx; Type: INDEX; Schema: public; Owner: cta
--

CREATE INDEX archive_file_dfi_idx ON public.archive_file USING btree (disk_file_id);


--
-- Name: archive_file_din_idx; Type: INDEX; Schema: public; Owner: cta
--

CREATE INDEX archive_file_din_idx ON public.archive_file USING btree (disk_instance_name);


--
-- Name: file_recycle_log_dfi_idx; Type: INDEX; Schema: public; Owner: cta
--

CREATE INDEX file_recycle_log_dfi_idx ON public.file_recycle_log USING btree (disk_file_id);


--
-- Name: tape_file_archive_file_id_idx; Type: INDEX; Schema: public; Owner: cta
--

CREATE INDEX tape_file_archive_file_id_idx ON public.tape_file USING btree (archive_file_id);


--
-- Name: tape_file_vid_idx; Type: INDEX; Schema: public; Owner: cta
--

CREATE INDEX tape_file_vid_idx ON public.tape_file USING btree (vid);


--
-- Name: tape_state_idx; Type: INDEX; Schema: public; Owner: cta
--

CREATE INDEX tape_state_idx ON public.tape USING btree (tape_state);


--
-- Name: tape_tape_pool_id_idx; Type: INDEX; Schema: public; Owner: cta
--

CREATE INDEX tape_tape_pool_id_idx ON public.tape USING btree (tape_pool_id);


--
-- Name: archive_file archive_file_storage_class_fk; Type: FK CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.archive_file
    ADD CONSTRAINT archive_file_storage_class_fk FOREIGN KEY (storage_class_id) REFERENCES public.storage_class(storage_class_id);


--
-- Name: archive_route archive_route_storage_class_fk; Type: FK CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.archive_route
    ADD CONSTRAINT archive_route_storage_class_fk FOREIGN KEY (storage_class_id) REFERENCES public.storage_class(storage_class_id);


--
-- Name: archive_route archive_route_tape_pool_fk; Type: FK CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.archive_route
    ADD CONSTRAINT archive_route_tape_pool_fk FOREIGN KEY (tape_pool_id) REFERENCES public.tape_pool(tape_pool_id);


--
-- Name: file_recycle_log file_recycle_log_sc_fk; Type: FK CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.file_recycle_log
    ADD CONSTRAINT file_recycle_log_sc_fk FOREIGN KEY (storage_class_id) REFERENCES public.storage_class(storage_class_id);


--
-- Name: file_recycle_log file_recycle_log_vid_fk; Type: FK CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.file_recycle_log
    ADD CONSTRAINT file_recycle_log_vid_fk FOREIGN KEY (vid) REFERENCES public.tape(vid);


--
-- Name: requester_activity_mount_rule rqster_act_rule_mnt_plc_fk; Type: FK CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.requester_activity_mount_rule
    ADD CONSTRAINT rqster_act_rule_mnt_plc_fk FOREIGN KEY (mount_policy_name) REFERENCES public.mount_policy(mount_policy_name);


--
-- Name: requester_group_mount_rule rqster_grp_rule_mnt_plc_fk; Type: FK CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.requester_group_mount_rule
    ADD CONSTRAINT rqster_grp_rule_mnt_plc_fk FOREIGN KEY (mount_policy_name) REFERENCES public.mount_policy(mount_policy_name);


--
-- Name: requester_mount_rule rqster_rule_mnt_plc_fk; Type: FK CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.requester_mount_rule
    ADD CONSTRAINT rqster_rule_mnt_plc_fk FOREIGN KEY (mount_policy_name) REFERENCES public.mount_policy(mount_policy_name);


--
-- Name: storage_class storage_class_voi_fk; Type: FK CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.storage_class
    ADD CONSTRAINT storage_class_voi_fk FOREIGN KEY (virtual_organization_id) REFERENCES public.virtual_organization(virtual_organization_id);


--
-- Name: tape_file tape_file_archive_file_fk; Type: FK CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.tape_file
    ADD CONSTRAINT tape_file_archive_file_fk FOREIGN KEY (archive_file_id) REFERENCES public.archive_file(archive_file_id);


--
-- Name: tape_file tape_file_tape_fk; Type: FK CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.tape_file
    ADD CONSTRAINT tape_file_tape_fk FOREIGN KEY (vid) REFERENCES public.tape(vid);


--
-- Name: tape tape_logical_library_fk; Type: FK CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.tape
    ADD CONSTRAINT tape_logical_library_fk FOREIGN KEY (logical_library_id) REFERENCES public.logical_library(logical_library_id);


--
-- Name: tape tape_media_type_fk; Type: FK CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.tape
    ADD CONSTRAINT tape_media_type_fk FOREIGN KEY (media_type_id) REFERENCES public.media_type(media_type_id);


--
-- Name: tape_pool tape_pool_vo_fk; Type: FK CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.tape_pool
    ADD CONSTRAINT tape_pool_vo_fk FOREIGN KEY (virtual_organization_id) REFERENCES public.virtual_organization(virtual_organization_id);


--
-- Name: tape tape_tape_pool_fk; Type: FK CONSTRAINT; Schema: public; Owner: cta
--

ALTER TABLE ONLY public.tape
    ADD CONSTRAINT tape_tape_pool_fk FOREIGN KEY (tape_pool_id) REFERENCES public.tape_pool(tape_pool_id);


--
-- PostgreSQL database dump complete
--

